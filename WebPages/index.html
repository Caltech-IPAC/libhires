<html>
<head>
<title>Generic HIRES</title>
</head>

<body bgcolor="white", text="black">
<h1><center>Generic HIRES</center></h1>

<hr color="black"; size=4>

<h3>Introduction:</h3>
The generic HIRES program is Python code to produce high resolution images
It has been run successfully on Planck data to produce images of approximately
double the resolution of the standard Planck "HEALPIX" images.

<h3>Design:</h3>
<ul>

    <li><b>Not project limited:</b>
    <br>
    The program is designed so that all project-specific information is in parameter
    files which can be easily changed to support various projects.

    <br><br>

    <li><b>Easily maintained:</b>
    <ul>
        <li> It is written in a language (Python) which was designed to be readable
             by people.  This makes it easy to make updates.  And it also makes it
             easy to read the code to see exactly what is doing.
        <li> It uses descriptive function and  variable names.
        <li>The code is organized into smallish single-focus subroutines.
    </ul>

</ul>

<h3>Functions:</h3>

Here are the functions provided by the generic HIRES program, arranged by version number:

<ul>

    <li><b>v1_10</b>
    <ul>
        <li> Added MIN_SAMPLE_FLUX parameter to force sample flux values to be
         at least the specified value.
          <br> (defaults to leaving all fluxes as is.)
    </ul>
    <br>

    <li><b>v1_09</b>
    <ul>
        <li>Updated calculation of angle to be correct even at end ponts of scans.
    </ul>
    <br>

    <li><b>v1_08</b>
       <br>*** The interface from IN data file readers has been modified.
    <ul>
        <li> Restructured code, converting the Sample and Footprint data into
              Numpy arrays.  (to speed up processing)
        <li> Removed "noise" from Sample and "weight" from Footprint
             (to speed up processing --- was not being used)
        <li> Removed "pad and trim" logic (for footprints partially outside image area)
              (to simplify code --- user may specify larger image size if desired)
        <li> made a vectorized version of the Gnomonic function
        <li> changed Gnomonic to use -x, +y to correspond to signs of the CDELTS
    </ul>
    <br>

    <li><b>v1_07</b>
    <ul>
        <li> Reversed order of array indexes to j,i (was i,j).  This means that the
             -y,-x in call to Sample should be reversed too in reader of IN files
        <li> Added a DRF_ID keyword to FITS headers.
        <li> (Temporarily added a kludge to internally simulate a 2D Gaussian from a 
            1D one, but no longer there since the DRF generator was upgraded to do 
             2D gaussians.)
    </ul>
    <br>

    <li><b>v1_06</b>
    <ul>
        <li> added FLUX_MIN minimum flux in input data samples (reset flux value if less)
               -- default is -1.0e200  (leaves flux as is)
                 (this option is to avoid crossing zero in flux image)
        <li> added log method (for output messages and log file)
               -- added lots of checks for WARNINGs and ERRORs
    </ul>
    <br>

    <li><b>v1_05</b>
    <ul>
        <li> added logic to use Sample.angle
        <li> added logic to weight samples (1/noise_squared)
    </ul>
    <br>

    <li><b>v1_04</b>
    <ul>
        <li> added (optional) output of cfv files ("correction factor variance")
           (like YORIC "cfv" files)
        <li> updated logic to use padded images during computations, trimmed before output
           (better quality near edges of image)
           and option to output "padded" image that can be used as "STARTING_IMAGE"
    </ul>
    <br>

    <li><b>v1_03</b>
    <ul>
        <li> the normal starting (ITER=0) image is now 'flat' (all pixels = 1.0)
        <li> optional generation of BEAM ouput files (BEAM_SPIKE_N  BEAM_SPIKE_HEIGHT)
             (like yoric 'bem' files)
        <li> new parameter to select which output file types are generated (OUTFILE_TYPES)
            choose any/all of: flux cov beam (default is flux only)
    </ul>
    <br>

    <li><b>v1_02</b> (delivered to IRSA)
    <ul>
        <li>BASIC CAPABILITY:
        <ul>
            <li> creates high resolution flux files
            <li> uses DRF files for computing "footprints"
            <li> creates a "cov" file (coverage image)
            <li> adds full set of FITS keywords to images
        </ul>
        <li>OPTIONS:
        <ul>
            <li> number of iterations to do (ITER_MAX)
            <li> which iterations to output files (ITER_LIST)
            <li> specify output image size (NPIX)
            <li> specify output image scale (ARCSEC_PER_PIX)
            <li> give a STARTING_IMAGE
            <li> specify footprint sub-pixel accuracy (FOOTPRINTS_PER_PIX)
            <li> specify added FITS keywords such as CTYPE, CRVAL
            <li> compute tangent plane ("gnomonic" -TAN) projection x,y coordinates
            <li> amplify amount of correction per iteration (BOOST_CORRECTION)
        </ul>
    </ul>


</ul>

<hr color="black"; size=4>

</body>
</html>

